<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=1"
  />
  <title>Rediscover Gear Builder (No DPS)</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">Rediscover • Gear Builder</div>
    <div class="mode-wrap">
      <label class="seg">
        <input type="radio" name="focus" value="DPS" checked>
        <span>DPS</span>
      </label>
      <label class="seg">
        <input type="radio" name="focus" value="TANK">
        <span>Tank</span>
      </label>
    </div>
    <button id="btnExport" class="primary">Export PNG</button>
  </header>

  <main>
    <section class="caps">
      <div class="cap-item">
        <div>ATK SPD</div>
        <div><input id="inpAS" type="number" step="0.001" min="0" /> <span class="suffix">s</span></div>
        <div class="hint">Target 0.25 for DPS cap</div>
      </div>
      <div class="cap-item">
        <div>Crit Chance</div>
        <div><input id="inpCR" type="number" step="1" min="0" max="100" /> <span class="suffix">%</span></div>
        <div class="hint">Cap: 50% from gear+rune</div>
      </div>
      <div class="cap-item">
        <div>Evasion</div>
        <div><input id="inpEV" type="number" step="1" min="0" max="100" /> <span class="suffix">%</span></div>
        <div class="hint">Cap: 40% from gear+rune</div>
      </div>
      <div class="cap-item">
        <div>DR</div>
        <div><input id="inpDR" type="number" step="1" min="0" max="100" /> <span class="suffix">%</span></div>
        <div class="hint">Tank wants 100% with rune</div>
      </div>
    </section>

    <section class="grid" id="slotsGrid"></section>
      <!-- Cards inserted by JS from rules.json -->
    </section>

    <section class="actions">
      <button id="btnSave" class="ghost">Save Build</button>
      <button id="btnLoad" class="ghost">Load Build</button>
      <button id="btnReset" class="danger ghost">Reset</button>
    </section>

    <section class="preview-wrap">
      <div id="shareCard" class="share-card">
        <div class="sc-header">
          <div class="sc-title">Rediscover Build</div>
          <div class="sc-badges">
            <span id="badgeFocus" class="pill">DPS</span>
            <span id="badgeStamp" class="pill">v4</span>
          </div>
        </div>
        <div class="sc-stats">
          <div><strong>AS</strong> <span id="scAS">0.000</span>s</div>
          <div><strong>CR</strong> <span id="scCR">0</span>%</div>
          <div><strong>EVA</strong> <span id="scEV">0</span>%</div>
          <div><strong>DR</strong> <span id="scDR">0</span>%</div>
        </div>
        <div id="scSlots" class="sc-slots">
          <!-- Filled by JS to mirror selections with icons/text -->
        </div>
        <div class="sc-footer">Rediscover Alliance • No DPS math, calm down.</div>
      </div>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js" defer></script>
  <script src="app.js" defer></script>
</body>
</html>
